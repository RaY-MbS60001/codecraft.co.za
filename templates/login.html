{% extends "base.html" %}

{% block title %}Login Portal - CodeCraftCo{% endblock %}

{% block additional_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
{% endblock %}

{% block content %}
<body class="login-page">
    <div class="main-wrapper">
        <div class="container">
            <div class="logo-container">
                <img src="{{ url_for('static', filename='images/logos/icon.png') }}" alt="CodeCraftCo Logo" class="company-logo">
                <h2>Code Craft Co</h2>
                <h4 class="admin-subtitle">Learnership Management Platform</h4>
            </div>
            
            <div class="login-options">
                <a href="{{ url_for('google_login') }}" 
                   class="login-btn client-btn"
                   data-loading
                   data-loading-title="Connecting to Google"
                   data-loading-description="Redirecting to Google Sign-In">
                    <svg class="btn-icon" viewBox="0 0 24 24">
                        <path fill="#ffffff" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                        <path fill="#ffffff" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                        <path fill="#ffffff" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                        <path fill="#ffffff" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                    </svg>
                    <h4>Continue With Google Account</h4>
                </a>
                
                <div class="divider">
                    <span>OR</span>
                </div>
                
                <a href="{{ url_for('admin_login') }}" 
                   class="login-btn admin-btn"
                   data-loading
                   data-loading-title="Admin Portal"
                   data-loading-description="Loading admin login interface">
                    <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <h4>Sign in as Admin</h4>
                </a>
            </div>
        </div>
    </div>

    <footer>
        <nav class="footer-nav">
            <a href="{{ url_for('privacy_policy') }}" data-loading data-loading-title="Loading Policy" data-loading-description="Loading privacy policy">Privacy Policy</a>
            <span>|</span>
            <a href="{{ url_for('terms_of_service') }}" data-loading data-loading-title="Loading Terms" data-loading-description="Loading terms of service">Terms of Service</a>
            <span>|</span>
            <a href="#" data-loading data-loading-title="Help Center" data-loading-description="Loading help resources">Help Center</a>
            <span>|</span>
            <a href="#" data-loading data-loading-title="Contact Us" data-loading-description="Loading contact information">Contact Us</a>
        </nav>
    </footer>
</body>
{% endblock %}

{% block additional_scripts %}
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const loginButtons = document.querySelectorAll('.login-btn');
        
        loginButtons.forEach(button => {
            button.addEventListener('click', function(e) {
                // Don't prevent default since data-loading attribute handles it
                // Add visual feedback to the clicked button
                this.classList.add('loading-state');
                this.style.pointerEvents = 'none';
                
                // Add a subtle loading effect to the button
                const originalContent = this.innerHTML;
                const buttonText = this.querySelector('h4');
                if (buttonText) {
                    const isGoogle = this.classList.contains('client-btn');
                    buttonText.textContent = isGoogle ? 'Connecting...' : 'Loading...';
                }
                
                // Reset if navigation fails (unlikely but good fallback)
                setTimeout(() => {
                    this.classList.remove('loading-state');
                    this.style.pointerEvents = '';
                    this.innerHTML = originalContent;
                }, 10000);
            });
        });

        // Add some entrance animations
        const container = document.querySelector('.container');
        if (container) {
            container.style.opacity = '0';
            container.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
                container.style.transition = 'all 0.6s ease';
                container.style.opacity = '1';
                container.style.transform = 'translateY(0)';
            }, 100);
        }
    });
</script>

<style>
/* Add loading state styles for login buttons */
.login-btn.loading-state {
    opacity: 0.7;
    transform: scale(0.98);
    transition: all 0.3s ease;
}

.login-btn.loading-state .btn-icon {
    animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* Smooth container entrance */
.container {
    transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}
</style>
{% endblock %}